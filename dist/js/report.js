function get_report_data(t,a){tab_1_data=[],tab_2_data=[],tab_3_data=[],tab_3_data2=[],$.ajax({type:"get",url:"http://10.173.142.164:8080/pokemon/pokemon_stat.php?ref=timi_version&city_code="+t+"&version="+a+"&output_type=jsonp&qtime="+(new Date).getTime(),dataType:"jsonp",jsonp:"cb",jsonpCallback:"a",success:function(t){t?($("#report").css("display","block"),tab_1_data=t.book0,creat_tab1(tab_1_data),tab_2_data=t.book1,creat_tab2(tab_2_data),tab_3_data=t.book2,tab_3_data2=t.book3,creat_tab3(tab_3_data,tab_3_data2)):alert("暂无数据！")},error:function(t){console.log("fail-get_report_data")},beforeSend:function(){},complete:function(){}})}function creat_tab1(t){for(var a=$$("tab_1").tBodies[0].rows,e=1;e<29;e++)for(var n=0;n<a.length;n++){var r=e-1;a[n].children[e].innerHTML=t[r][n]}t[28]&&t[28][0]&&(a[0].children[29].innerHTML=t[28][0])}function creat_tab2(t){for(var a=$$("tab_2").tBodies[0].rows,e=0;e<6;e++)for(var n=0;n<a.length;n++){if(n==a.length-1)var r=e+1;else var r=e+2;a[n].children[r].innerHTML=t[e][n]}t[6]&&t[6][0]&&(a[0].children[8].innerHTML=t[6][0]),a[a.length-1].children[2].innerHTML="100%",a[a.length-1].children[4].innerHTML="100%",a[a.length-1].children[6].innerHTML="100%"}function creat_tab3(t,a){for(var e=$$("tab_3").tBodies[0].rows,n=1;n<e.length;n++)if(n<7){if(1==n)var r=e[n].children.length-2;else var r=e[n].children.length-1;var i=n-1;e[n].children[r].innerHTML=t[0][i]}else if(n>7){if(8==n)var r=e[n].children.length-2;else var r=e[n].children.length-1;var i=n-8;e[n].children[r].innerHTML=a[1][i],e[n].children[r-1].innerHTML=a[0][i]}t[1]&&t[1][0]&&(e[1].children[2].innerHTML=t[1][0]),a[2]&&a[2][0]&&(e[8].children[3].innerHTML=a[2][0])}function GetRequest(){var t=location.hash,a=new Object;if(t.indexOf("#")!=-1){var e=t.substr(1);strs=e.split("&");for(var n=0;n<strs.length;n++)a[strs[n].split("=")[0]]=unescape(strs[n].split("=")[1])}return a}function $$(t){return document.getElementById(t)}window.onload=function(){var t=window.location.hash;if(""==t)alert("抱歉！暂无数据！请返回主页！");else{var a=GetRequest(),e=a.code,n=a.city,r=a.version;n?$("#city_span").html(n):$("#city_span").html(""),get_report_data(e,r)}$("#tab_3").height($("#tab_2").height())};var tab_1_data,tab_2_data,tab_3_data,tab_3_data2;